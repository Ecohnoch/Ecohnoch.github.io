---
layout: post
title:  "计算机网络Computer Networking(十、一些典型的题目讲解)"
date:   2017-04-21
categories: 计算机网络
excerpt: 嗯
---

# OSI参考模型

## 第一题

从上到下OSI7层模型，概述每层的主要功能和协议。

解答：

* 应用层：用来提供程序网络接口，让程序可以使用网络服务，如HTTP，SMTP，FTP，DNS，RIP
* 表示层：为不同终端的上层用户提供数据和信息的格式化方法，如XML，HTML..
* 会话层：负责在网络两节点直接建立和维持通信，如NetBIOS
* 传输层：负责进程到进程，端到端的逻辑通信，如UDP，TCP
* 网络层：负责转发和路由选择，实际完成主机间的通信，如IP，ARP，ICMP，OSPF，BGP
* 数据链路层：在不可靠物理链路上传输可靠的数据，CSMA/CD
* 物理层：是计算机联网的基础，调制解调器

## 第二题

以下功能典型属于OSI哪一层：

> 介质访问控制：数据链路层

> 位的差错检测和恢复：数据链路层

> 路由学习：网络层

> 分组转发：网络层

> 进程-进程间的可靠传输：传输层

## 第三题

以下具体设备或软件工作在OSI的哪一层：

> XML：表示层

> IP路由器：网络层

> Web服务器：应用层

> JAVA，RMI: 应用层

> 以太网网卡：数据链路层

# 端到端延迟计算

## 第四题

考虑两台主机A和B由一条速率为R bit/s的链路相连，假定这两台主机相隔m米，沿该链路的传播速率为s m/s。主机A向主机B发送长度为L比特的分组、

a、根据和s表达传播时延\\(d_{prop}\\)

b、根据L和R确定分组的传输时延\\(d_{trans}\\)

c、忽略处理时延和排队时延，得出端到端时延的表达式

d、假定主机A在时刻t = 0开始传输分组，在时刻t = \\(d_{trans}\\)，该分组的最后一个比特在什么地方？

e、假定\\(d_{prop}\\)大于\\(d_{trans}\\)，在时刻t = \\(d_{trans}\\)，该分组第一个比特在何处？

f、假定\\(d_{prop}\\)小于\\(d_{trans}\\)，在时刻t = \\(d_{trans}\\), 该分组的第一个比特在何处？

g、假定s = 2.5 * 10^8, L = 100b, R = 28 kb/s, 求出传播时延等于传输时延的距离m？

解答：

a：传播时延指的是比特流在链路上所消耗的时间，即\\(d_{prop} = \frac{m}{s}\\)

b：传输时延指的是将数据发向链路上所消耗的时间，即\\(d_{trans} = \frac{L}{R}\\)

c：端到端时延t = \\(d_{trans} + d_{prop}\\)

d：在A和链路的交界处

e：在链路上，已经走了s*\\(d_{trans}\\)

f：已经到B了

g：m/s = L/R -> m = 8.9 * 10^5 m

## 第五题

假定两台主机A和B相隔10000km，由一条直接的R = 1 Mb/s的链路相连，假定跨越该链路的传播速率是2.5 * 10^8 m/s

a、计算带宽时延积\\(R * t_{prop}\\)

b、考虑主机A给主机B发送一个400kb的文件，假设该文件作为一个大报文连续发送，在任何给定时间，在链路上具有的比特数量最大值是多少？

c、给出带宽时延的一个解释

d、在该链路上一个比特的宽度是多少？它比一个足球场更长嘛？

e、根据传播速率s，带宽R和链路m的长度，推导出比特宽度的一般表达式

解答：

a：\\(t_{prop} = 10^7 / 2.5*10^8 = 0.04s, R*t_{prop} = 0.04M\\)

b：即带宽时延积，0.04M

c：通路上具有的比特最大值

d：10^7 / 0.04M = 250m, 和一个足球场差不多

e: s/R

# 传输层

四种题型：

* 滑动窗口信道利用率计算
* TCP连接建立，删除
* 连接开始到结束TCP序列号和确认号填空（由于展示困难，所以这种题型不在博客里说明，可以看我之前的复习笔记）
* UDP和TCP的区别

## 第六题，滑动窗口计算题

卫星信道上数据传输速率为1MB/s，数据帧长为1000bit，卫星信道的传播时延为270ms，而帧的控制信息、确认帧长都可以忽略不计，当采用了下面三种协议的时候，计算达到的信道利用率是多少？

A、stop-and-wait

B、Go-Back-N，WT = 6，WB = 0

C、Select Repeat WT = 5， WB = 5

解答：

信道利用率 = 数据发送时间 / (数据发送时间 + 传播时延)

A：数据发送时间 = 1000 / 10^6 = 0.001

利用率 = 0.001 / (0.001 + 0.27*2） = 0.1848%

为什么0.27*2，是因为发送方还需要确认对方送到了，于是还有一个信息要回来一趟

B：数据发送时间 = 1000 / 10^6 = 0.001

利用率 = 0.001 / (0.001 + 0.27*2 / 6) = 6 / (6 + 540) = 1.0989%

为什么传播时延要除以6，因为每发六帧才停下来等一次确认,

C：数据发送时间 = 1000 / 10^6 = 0.001

利用率 = 0.001 / (0.001 + 0.27*2 / 5) = 5 / (5 + 540) = 0.9174%

为什么传播时延要除以5， 加大了接受窗口，每次发送一个窗口的帧，等待接受窗口全部接受并且一次确认，所以效率提高了五倍

## 第七题，TCP和UDP的区别

具体区别看我前几篇博客，这里就做一道题

一个多媒体应用软件需要支持视频流的组播功能，用TCP还是UDP实现呢？

UDP，因为TCP不支持组播，只支持一对一的双向连接。


# 网络层

核心题型：

* IP地址(地址分类，子网掩码，特殊IP)
* IP首部（IHL，total lenth)
* IP寻址(根据路由表选路填表题)
* IP组网(包括IP地址分配，静态路由表生成和路由汇聚)
* IP选路
* IP分片和组装
* 组播和广播的异同

## 第八题，IP地址分类

以下IP地址分别属ABCD哪一类？

A、12.92.56.7

B、131.90.7.60

C、110.70.75.58

D、205.7.88.21

E、224.9.8.29

解答：

A：A类，首部在0-126之间

B：B类，首部在128-191之间

C：A类，首部在0-127之间

D：C类，首部在192-223之间

E：D类，首部在224-255之间

## 第九题，子网掩码

根据子网掩码长度，计算下列IP地址的子网地址

A、136.52.121.9/8

B、136.52.121.9/11

C、136.52.121.9/16

D、136.52.121.9/19

E、136.52.121.9/24

解答：

A：子网掩码：255.0.0.0, 子网为136.0.0.0

B: 子网掩码：11111111.11100000.0.0, IP地址:10001000.00110100...

子网为10001000.00100000.00000000.00000000

即为136.32.0.0

C：子网掩码255.255.0.0

子网为136.52.0.0

D：子网掩码为255.255.11100000.00000000

IP地址第三位01111001，变为01100000即96

子网为136.52.96.0

E：子网掩码为255.255.255.0

子网为136.52.121.0

## 第十题、子网掩码

分别写出点分十分制记号表示的9位，11位，17位，21位和25位长度的子网掩码

解答：

255.128.0.0

255.224.0.0

255.255.128.0

255.255.248.0

255.255.255.128

## 第十一题、IP首部

IHL(IP header length):

IP首部长度，占4比特，范围0-15，但是实际长度要乘以4，所以IP首部范围为{0-60,且为4的倍数}

Totol length:

占16bit，所以IP数据报总长度为64k

## 第十二题、IP寻址1

![image](http://i4.buimg.com/1949/5ee71ec10c248e3d.png)

解答：

R1的路由表：

目标IP地址|子网掩码|下一跳的IP|离出接口的名字|
-------|----|----|---|---------
224.20.0.0|255.255.0.0|C|Lan1|
102.204.65.0|255.255.255.0|C|Lan2|
102.204.64.0|255.255.255.0|102.24.65.9|Lan2|
112.109.25.0|255.255.0.0|102.24.65.9|Lan2

R2的路由表：

目标IP地址|子网掩码|下一跳的IP地址|离出接口的名字|
----|----|----|----|-------
224.20.0.0|255.255.0.0|102.204.65.1|vlan160|
102.204.65.0|255.255.255.0|C|Vlan160|
102.204.64.0|255.255.255.0|C|Vlan159|
112.109.25.0|255.255.0.0|C|Vlan2|

## 第十三题、IP寻址2

![image](http://i1.piimg.com/1949/5b79a2e024eb9743.png)

![image](http://i1.piimg.com/1949/95078e2eab7f67d7.png)

## 第十四题、IP寻址3

（1）什么是分组转发过程中的“最长掩码匹配”规则？

（2）对目标地址分别为224.211.71.0/12、224.211.71.0/24、224.211.71.0/17的三个路由项，在路由表中的正确的排列顺序是什么？

解答：

（1）是指对相同前缀的目标地址，子网掩码越长则排在路由表前面，越短就排在后面。

（2）24, 17, 12顺次排序



