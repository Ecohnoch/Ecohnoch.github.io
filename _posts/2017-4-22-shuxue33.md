---
layout: post
title:  "计算机网络Computer Networking(十一、继续一些典型的题目讲解)"
date:   2017-04-22
categories: 计算机网络
excerpt: 嗯
---

# 继续接网络层

## 第十五题、IP组网1

假定一个网络上需要连接最多709台设备：

（1）若对其分配VLSM（可变长子网掩码）的IP的地址，问子网掩码最长可达多少？简要说明计算过程，地址空间的使用效率是多少？

（2）若分配有类型的IP地址，问ABC哪一类最合适，简要说明理由和地址空间的使用效率？


解答：

（1）：2^9 = 512, 2^10 = 1024, 所以主机位为10位，子网掩码为22位。使用效率 = 709 / (1024 - 2) = 709 / 1022 = 70%， 一定要注意这里分母要-2。

（2）：B类最合适，空间效率为709 / 65534 = 1%


## 第十六题、IP组网2

一个企业网有八个组网，每个子网上主机数量相同，各为1000台。若要求所有的IP地址都有形式202.100.x.y, 试写出各个子网的IP地址(即NetID)，最短子网掩码长度，并简要说明计算方法。

解答：

1000台主机，所以主机位有10位，8个组网，所有扩展网络号3位，所以主机号总位数为13位，子网掩码最短19位、

对八个组网，扩展网络号分别为000, 001, 010, 011, 100, 101, 110, 111

所以子网的IP分别为：

201.100.00000000.0 即 201.100.0.0/19

201.100.00100000.0 即 201.100.32.0/19

201.100.01000000.0 即 201.100.64.0/19

201.100.01100000.0 即 201.100.96.0/19

201.100.10000000.0 即 201.100.128.0/19

201.100.10100000.0 即 201.100.160.0/19

201.100.11000000.0 即 201.100.192.0/19

201.100.11100000.0 即 201.100.224.0/19


## 第十七题、RIP协议

![image](http://i1.piimg.com/1949/6eb2a801a939cde0.png)

解答：

（1）首先将RB的路由表的距离都+1：

目标网络地址|掩码|RIP距离|
------|------|--------|----
202.204.65.0|255.255.255.0|2|
202.204.64.0|255.255.255.0|2|
202.38.70.128|255.255.255.192|4|
117.78.70.0|255.255.255.0|5|
202.124.254.0|255.255.255.0|6|

然后和RA的路由表进行对比，如果相同的目标网络地址比RB的距离大，就替换为RB的距离，并且把下一跳路由换成RB, 并且不符合的地方要更新, 没有的地方保留，比如RA的第三行第五行最后一行：

RA更新后的路由：

目标网络地址|掩码|路由|RIP距离|
------|----|-----|---------|--
202.204.65.0|255.255.255.0|C|0|
202.204.64.0|255.255.255.0|RB|2|
202.38.70.128|255.255.255.192|RB|4|
112.38.70.0|255.255.255.0|RL|4|
199.0.0.0|255.0.0.0|RB|7|
202.124.254.0|255.255.255.0|RB|6|
176.20.0.0|255.255.0.0|RM|10|

（2）该路由协议采用RIP协议，大概解释RIP协议的工作原理

符合下列几点即可：

	* RIP协议是基于距离向量算法的动态路由协议
	* RIP是应用层协议，基于UDP，端口号520，作为一个进程存在于路由器中
	* 对本地路由表进行动态的维护，并且广播本路由器的路由信息，通知相邻路由器进行修改


## 第十八题、组播和广播

组播和广播的异同：

> 广播：对同一网段上的所有主机进行发送数据

> 组播：只对同一组群中的所有主机进行发送数据

# 数据链路层

## 第十九题、ARP原理1

说明ARP协议的主要功能，并简述其工作过程

> 功能：将32位IP地址转换为48位物理(MAC)地址

> 工作过程：

> * 每台主机都会在缓冲区建立一个ARP列表，表示IP和MAC的一一对应关系

> * 当数据包发送时，先检查ARP列表中是否有该IP对应的MAC地址，如果有就直接发送到这个MAC地址

> * 如果没有，就向本地网段发送一个ARP请求的广播包，网络中所有主机收到这个广播包后，先检查自己的MAC地址和该IP是否对应，如果不对应，就不管，如果对应，就【先把这个IP和MAC地址加进【自己的ARP列表】中】，然后再向发送端发送一个响应包。

> * 发送端收到了响应包后立刻将这个MAC地址和IP地址的对应写进自己的ARP列表中，然后开始正常的数据传输。

注意：这里要注意，IP和MAC在该过程中一共被写入了两次，第一次是具有该MAC地址的主机，第二次是数据包的发送端。

## 第二十题、ARP原理2

在什么情况下，一个主机发送一个IP分组前不需要检索其ARP缓存或者使用ARP？

解答： 广播或者组播的时候，不需要进行根据IP地址查找MAC的过程，直接收包就可以了。

ARP缓存用来提高ARP的效率，请问为什么强制ARP缓存的表项寿命有限？

ARP缓存表项表示MAC地址-IP地址的对应关系， 但这种对应关系可以发生变化，（例如更换了网卡），因此必须强制ARP缓存的寿命有限，不然以后要改了就GG了。

## 第二十一题、IP地址和MAC地址的区别

答出以下几点即可：

* MAC是数据链路层地址，IP是网络层地址
* MAC地址没有结构性含义，IP有结构性含义(可以分层)


## 第二十二题、CSMA/CD的原理

说明局域网的介质访问控制协议的主要过程，并且概述CSMA/CD协议的主要工作过程。

解答：

> 目的：提供寻址和媒体存取的控制方式，使得不同设备或网络上的节点可以在多点的网络上通讯而互相不冲突。

> 工作过程：CSMA/CD(载波侦听多路访问/冲突检测)在发送帧的同时对信道进行侦听，以确定是否发生了冲突，若发生了冲突，则发送阻塞信息并且立即停止发送数据，然后等待【随机时间】再次发送。

## 第二十三题、差错检测和纠错

1. 假设分组的信息是比特模式1010101010101011, 并且使用了偶校验方案，在二维偶校验的情况下，该检查字段的值是什么？你的答案应该使用最小长度检查和字段

2. 利用CRC校验法计算，假设D的值为10101010, 生成多项式G的值为1001，求出R的值什么？

解答：

1.

1|0|1|0|
-|-|-|-|-
1|0|1|0|
1|0|1|0|
1|0|1|1|

进行校验：

偶校验则偶数个0校验后为0，奇数个0校验后为1

1|0|1|0|0|
-|-|-|-|-|-
1|0|1|0|0|
1|0|1|0|0|
1|0|1|1|1|
0|0|0|1|1|

取最后一行和最后一列为校验字段： 0001100011

2. 用10101010000除以1001，得到1011101余数为101，即R = 101






















